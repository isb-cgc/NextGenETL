# for run-cda-maint.sh

steps:
  # - delete_filtered_tables
  # - restore_deleted_table
  # - update_friendly_names
  # - update_labels
  # - update_table_descriptions

params:
  LOGFILE_PATH: 'logs/gdc/maint.log'

  # used with delete_filtered_tables step
  DELETE_TABLES:
    # list of project.datasets to run deletion for
    project_dataset_id_list:
      - ''
    # a filter string--delete all tables containing this filter string from the datasets listed above
    filter_string: 'r38'

  # used with restore_deleted_table step
  # deleted table_id to restore
  RESTORE_TABLE_ID: ''

  # used with update_friendly_names step
  FRIENDLY_NAME_DICT:
    'isb-cgc-bq.GDC_case_file_metadata_versioned.GDCfileID_to_GCSurl_r42_v2': 'GDC FILE ID TO GCS URLS REL42_V2 VERSIONED'

  # used with update_labels step
  UPDATE_LABELS:
    table_ids:
      - 'isb-cgc-bq.GDC_case_file_metadata.GDCfileID_to_GCSurl_current'
      - 'isb-cgc-bq.GDC_case_file_metadata_versioned.GDCfileID_to_GCSurl_r42_v2'
    labels:
      version: 'r42'

  UPDATE_TABLE_DESCRIPTION:
    table_ids:
      - 'isb-cgc-bq.GDC_case_file_metadata.GDCfileID_to_GCSurl_current'
      - 'isb-cgc-bq.GDC_case_file_metadata_versioned.GDCfileID_to_GCSurl_r42_v2'
    description: "Data was generated from file metadata information from the GDC release 42, April 2025. Current google cloud storage paths are mapped to file gdc ids.\nMore details: https://docs.gdc.cancer.gov/Data/Release_Notes/Data_Release_Notes/#data-release-420"
